@page "/studentregistry"
@using SEIIApp.Shared.DomainDto
@inject Services.BackendAccessService BackendAccessService
@inject NavigationManager NavigationManager
<h3>Studentregistry</h3>



@{
    <ol style="max-width:250px">
        @foreach (var student in _allStudents)
        {
        <li style="padding-bottom:8px">
            Name: @student.UserName &nbsp;
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-person-square" viewBox="0 0 16 16" style="float:right">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z" />
            </svg>
        </li>
        }
    </ol>

}

@code {

    StudentDto[] _allStudents = new StudentDto[0];

    protected override async Task OnParametersSetAsync()
    {
        await base.OnParametersSetAsync();
        _allStudents = await BackendAccessService.GetAllStudents();
    }


}